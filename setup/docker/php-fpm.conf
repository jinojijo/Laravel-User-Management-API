; Run as the user/group for your PHP application
user = www-data
group = www-data

; Run PHP-FPM in the background as a daemon
daemonize = yes

; Set the number of child processes to serve PHP requests
pm = dynamic
pm.max_children = 200
pm.start_servers = 20
pm.min_spare_servers = 10
pm.max_spare_servers = 50

; Set the number of requests each child process should execute before respawning
pm.max_requests = 500

; Configure the listen address or socket
listen = 127.0.0.1:9000

; Set the backlog for incoming connections
listen.backlog = 65535

; Set the maximum number of simultaneous connections PHP-FPM can handle
listen.allowed_clients = 127.0.0.1

; Set the process priority
priority = 0

; Set the maximum number of open file descriptors
rlimit_files = 65535

; Set the maximum number of open processes
rlimit_core = unlimited

; Configure PHP-FPM error logging
catch_workers_output = yes
php_flag[display_errors] = off
php_admin_flag[log_errors] = on
php_admin_value[error_log] = /var/log/php-fpm/www-error.log

; Configure PHP-FPM request timeouts
request_terminate_timeout = 300
request_slowlog_timeout = 150

; Set the maximum execution time for PHP scripts
; Adjust this value according to your application's requirements
; max_execution_time = 30

; Set the maximum amount of memory a script can consume
; Adjust this value according to your application's requirements
; memory_limit = 256M

; Configure PHP-FPM to prioritize serving of static files
; by avoiding unnecessary PHP process invocations
; This can help improve performance for static assets
; If not needed, you can comment out these directives
; pm.static = 4
; pm.max_requests = 2000

; Additional PHP-FPM configurations can be added here as needed


